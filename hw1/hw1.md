# Домашняя работа 1 по курсу Системный дизайн высоконагруженных проектов от DevHands.io
## Условие
###### В городе - сателлите миллионника проживает 50.000 человек. Половина работающих - работают в миллионнике, четверть - добираются на электричке. Спланируйте расписание и вместимость электричек.
### Варианты для исполнения
* дорого делать, но быстро обслуживать
* дешевле делать, но клиенты будут ждать дольше.

### Решение
#### Дорогой вариант

[Численность](https://rosstat.gov.ru/storage/mediabank/Trud_2023.pdf) населения (на конец 2022 года) 146 447 000

[Численность](https://rosstat.gov.ru/storage/mediabank/Trud_2023.pdf) рабочей силы (занятые) 74 924 000.

Исходя из этого по России занято 51% населения, что будет принято за занятость в городе сателите.

По разной информации из СМИ по сменам работают 66% занятых, по сменам ночами и выходными 34%, в графике 5/2 работают 60-70% занятых

Примем то что треть работает в непрерывном графике, треть только по утрам и треть 5/2 в разное время. По 17% население занятого работой в мегаполисе.

Работа только днем по графику 5/2 может начинаться с 7 до 11 по нормальному распределению (выходящие за это время выходят за 99 персентиль выхода за среднее и не учитываются). Для упрощения расчета делим всех на 5 групп и считаем 9 часов временем с максимальным количеством начинающих работу, 8 и 10 временем с началом работы в 2 раза меньшего количества и 7, 11 с еще в 2 раза меньшим количеством.

`max + 2 max/2 + 2 max / 4 = 17`

`max = 17 / 2.5 = 6,8 %`

В непрерывном графике работают 17% населения. Предположим что в гарфике по 8 часов работает половина, половина в графике по 12, в 1 смену работают `17 / 2 / 4 = 2,125`.

в сменном графике 5/2 работают 17% населения. Предположим в 2 сменном (без ночей) работает половина и 3 сменном (с ночами) работает половина. Тогда для двухсменного численность отправки на смену `17 / 2 / 2 = 4,25`. и Для трехсменного `17 / 2 / 3 = 2,833`.

результат в таблице

![Рассчет пасажиропотока](pics/table1.jpeg?raw=true&sanitize=true)

в вагоне 117 сидячих мест, 150 всего. Пусть время в пути будет 30 минут, время прибытия за 20 минут до начала рабочей смены, минимальный интервал отправления 10 минут. Результирующее расписание в таблице 2.


![Расписание из сателита в город](pics/table2.jpeg?raw=true&sanitize=true)

Обратно с учетом того что на графике 5/2 с утра работа по 9 часов, на сменных графиках по 8 часов и отправление через 20 минут после окончания рабочего дня расчет в таблице 3 и 4

![Рассчет пасажиропотока обратно](pics/table3.jpeg?raw=true&sanitize=true)

![Расписание обратно](pics/table4.jpeg?raw=true&sanitize=true)


#### Дешевый вариант

Расчет пассажиропотока с большими задержками в таблице 5 

![Рассчет пасажиропотока с большими задержками](pics/table5.jpeg?raw=true&sanitize=true)

Расписание для пасажиропотока с большими задержками в таблице 6

![Рассчет пасажиропотока с большими задержками](pics/table6.jpeg?raw=true&sanitize=true)


Расчет пассажиропотока с большими задержками обратно в таблице 7 

![Рассчет пасажиропотока с большими задержками](pics/table7.jpeg?raw=true&sanitize=true)

Расписание для пасажиропотока с большими задержками обратно в таблице 8

![Рассчет пасажиропотока с большими задержками](pics/table8.jpeg?raw=true&sanitize=true)


###### Вывод - в первом варианте по будням придется перевозить 84 вагона, а во втором 76. по выходным из-за маленьком нагрузки сэеономить не удалось, оба варианта 20 вагонов за сутки